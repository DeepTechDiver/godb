## 设计一个框架
大部分时候，我们需要实现一个 Web 应用， 第一反应是应该使用哪个框架。 
不同的框架设计理念和提供的功能有很大的差别。比如 Python 语言的 django和flask，前者大而全，后者小而美。
Go语言/golang 也是如此，新框架层出不穷，比如Beego，Gin，Iris等。
那为什么不直接使用标准库，而必须使用框架呢？ 在设计一个框架之前，我们需要回答框架核心为我们解决了什么问题。
只有理解了这一点，才能想明白我们需要在框架中实现什么功能。

## 标准库启动Web服务
Go语言内置了 net/http库，封装了HTTP网络编程的基础的接口，我们实现的Gee Web 框架便是基于net/http的。我们接下来通过一个例子，简单介绍下这个库的使用。
```go
package main

import (
	"fmt"
	"log"
	"net/http"
)

func main() {
	http.HandleFunc("/", indexHandler)
	http.HandleFunc("/hello", helloHandler)
	log.Fatal(http.ListenAndServe("localhost:8080", nil))
}

// handler echoes r.URL.Path
func indexHandler(w http.ResponseWriter, r *http.Request) {
	_, err := fmt.Fprintf(w, "URL.Path = %q\n", r.URL.Path)
	if err != nil {
		return 
	}
}

// handler echoes r.URL.Header
func helloHandler(w http.ResponseWriter, req *http.Request) {
	for k, v := range req.Header {
		_, err := fmt.Fprintf(w, "Header[%q] = %q\n", k, v)
		if err != nil {
			return 
		}
	}
}
```
通过设置两个路由（/ 和 /hello）分别绑定不同函数，当发起HTTP请求时会根据不同的请求路由调用不同的处理函数，测试结果如下：

```
$ curl http://localhost:8080/hello
Header["User-Agent"] = ["curl/8.4.0"]
Header["Accept"] = ["*/*"]

$ curl http://localhost:8080/
URL.Path = "/"
```


